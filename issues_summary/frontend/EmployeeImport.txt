npm test src/features/employees/components/EmployeeImport.test.tsx ; "(Roo/PS Workaround: 10)" > $null


é”™è¯¯ä¿¡æ¯ï¼š
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯

Vitest caught 7 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "handles file selection and validation". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "rejects invalid file types". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "rejects files that are too large". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "displays validation errors". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "handles successful import". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "handles import failure". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
TypeError: Array.prototype.some called on null or undefined
 â¯ isEvtWithFiles node_modules/react-dropzone/dist/es/utils/index.js:160:31
 â¯ node_modules/react-dropzone/dist/es/index.js:727:9
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:207:12
 â¯ node_modules/react-dropzone/dist/es/utils/index.js:205:16
 â¯ executeDispatch node_modules/react-dom/cjs/react-dom-client.development.js:16368:9
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 â¯ processDispatchQueue node_modules/react-dom/cjs/react-dom-client.development.js:16418:19
 â¯ node_modules/react-dom/cjs/react-dom-client.development.js:17016:9

This error originated in "src/features/employees/components/EmployeeImport.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "removes selected file when X button is clicked". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  5 failed | 6 passed (11)
     Errors  7 errors
   Start at  11:23:01
   Duration  9.81s (transform 108ms, setup 138ms, collect 1.46s, tests 5.67s, environment 770ms, prepare 99ms)

 FAIL  Tests failed. Watching for file changes...


ä½ é‡åˆ°çš„é”™è¯¯ä¿¡æ¯ï¼š

```
TypeError: Array.prototype.some called on null or undefined
```

å‡ºç°åœ¨ `react-dropzone` çš„å†…éƒ¨é€»è¾‘ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ `isEvtWithFiles` å‡½æ•°ä¸­è°ƒç”¨ `.some()` æ—¶ã€‚è¿™ä¸ªé”™è¯¯è¡¨æ˜æŸä¸ªæœ¬åº”æ˜¯æ•°ç»„çš„å¯¹è±¡æ˜¯ `null` æˆ– `undefined`ï¼Œå¯¼è‡´è°ƒç”¨ `.some()` æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚

---

### ğŸ” é”™è¯¯å®šä½

é”™è¯¯å †æ ˆæ˜¾ç¤ºï¼Œé”™è¯¯æ¥æºäºï¼š

```
node_modules/react-dropzone/dist/es/utils/index.js:160:31
```

åœ¨ `isEvtWithFiles` å‡½æ•°ä¸­ï¼Œç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š

```js
function isEvtWithFiles(event) {
  if (!event.dataTransfer.types) return false;
  return event.dataTransfer.types.some(type => type === 'Files');
}
```

å¦‚æœ `event.dataTransfer.types` æ˜¯ `null` æˆ– `undefined`ï¼Œå°±ä¼šè§¦å‘ä½ çœ‹åˆ°çš„é”™è¯¯ã€‚

---

### ğŸ§ª é”™è¯¯å‘ç”Ÿåœºæ™¯

ä½ åœ¨æµ‹è¯•ä¸­ä½¿ç”¨äº† `react-dropzone` ç»„ä»¶ï¼Œæ¨¡æ‹Ÿäº†æ–‡ä»¶æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ çš„æ“ä½œã€‚ä½†æµ‹è¯•ä¸­æ¨¡æ‹Ÿçš„äº‹ä»¶å¯¹è±¡ï¼ˆeventï¼‰å¯èƒ½ä¸å®Œæ•´ï¼Œå¯¼è‡´ `event.dataTransfer` æˆ– `event.dataTransfer.types` æ˜¯ `undefined`ã€‚

---

### âœ… è§£å†³æ–¹æ¡ˆ

#### âœ… æ–¹æ³•ä¸€ï¼š**å®Œå–„æ¨¡æ‹Ÿäº‹ä»¶å¯¹è±¡**

åœ¨ä½ çš„æµ‹è¯•ä¸­ï¼Œå½“ä½ æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ äº‹ä»¶ï¼ˆæ¯”å¦‚ `drop` æˆ– `change`ï¼‰æ—¶ï¼Œè¯·ç¡®ä¿ä½ æ„é€ äº†ä¸€ä¸ªå®Œæ•´çš„äº‹ä»¶å¯¹è±¡ï¼Œå¹¶åŒ…å« `dataTransfer` å±æ€§ã€‚

ä¾‹å¦‚ï¼š

```tsx
const createDt = (files: File[]) => ({
  dataTransfer: {
    files,
    items: files.map(file => ({
      kind: 'file',
      type: file.type,
      getAsFile: () => file,
    })),
    types: ['Files'],
  },
});

// æ¨¡æ‹Ÿ drop äº‹ä»¶
fireEvent.drop(dropzone, createDt([file]));
```

æˆ–è€…ï¼Œå¦‚æœä½ åœ¨æ¨¡æ‹Ÿ `input` çš„ `change` äº‹ä»¶ï¼š

```tsx
Object.defineProperty(input, 'files', {
  value: [file],
});
```

---

#### âœ… æ–¹æ³•äºŒï¼š**Mock `react-dropzone` å†…éƒ¨å‡½æ•°ï¼ˆä¸´æ—¶ç»•è¿‡ï¼‰**

å¦‚æœä½ åªæ˜¯æƒ³è®©æµ‹è¯•é€šè¿‡ï¼Œå¯ä»¥ä¸´æ—¶ mock æ‰ `isEvtWithFiles` å‡½æ•°ï¼Œé˜²æ­¢å®ƒæŠ¥é”™ï¼š

```ts
// åœ¨æµ‹è¯•æ–‡ä»¶é¡¶éƒ¨
vi.mock('react-dropzone/utils', async () => {
  const actual = await vi.importActual('react-dropzone/utils');
  return {
    ...actual,
    isEvtWithFiles: () => true,
  };
});
```

âš ï¸ è¿™åªæ˜¯ä¸´æ—¶ç»•è¿‡é”™è¯¯ï¼Œä¸æ¨èé•¿æœŸä½¿ç”¨ã€‚

---

#### âœ… æ–¹æ³•ä¸‰ï¼š**å‡çº§ `react-dropzone`**

ä½ å¯èƒ½æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªè¾ƒæ—§ç‰ˆæœ¬çš„ `react-dropzone`ï¼Œè¯¥ç‰ˆæœ¬ä¸­å­˜åœ¨å¯¹äº‹ä»¶å¯¹è±¡çš„ä¸å®‰å…¨è®¿é—®ã€‚

å°è¯•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š

```bash
npm install react-dropzone@latest
```

æˆ–ä½¿ç”¨ yarnï¼š

```bash
yarn add react-dropzone@latest
```

---

### ğŸ§¹ æ¸…ç†æµ‹è¯•ç¯å¢ƒ

æœ‰æ—¶è¿™äº› unhandled errors æ˜¯å› ä¸ºæµ‹è¯•ç¯å¢ƒæœªæ¸…ç†å¹²å‡€ï¼ˆæ¯”å¦‚ç»„ä»¶æœªå¸è½½ã€å‰¯ä½œç”¨æœªæ¸…ç†ï¼‰ã€‚ä½ å¯ä»¥åœ¨æ¯ä¸ªæµ‹è¯•åæ·»åŠ ï¼š

```ts
afterEach(() => {
  cleanup();
});
```

å¹¶ç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯ `@testing-library/react` æä¾›çš„ `cleanup()`ã€‚

---

### ğŸ§ª é¢å¤–å»ºè®®ï¼šä½¿ç”¨ `userEvent` æ›¿ä»£ `fireEvent`

`@testing-library/user-event` æ›´è´´è¿‘ç”¨æˆ·è¡Œä¸ºï¼Œèƒ½å‡å°‘æ‰‹åŠ¨æ„é€ äº‹ä»¶å¯¹è±¡çš„é—®é¢˜ã€‚

```ts
import userEvent from '@testing-library/user-event';

const user = userEvent.setup();

await user.upload(input, file);
```

---

### âœ… æ€»ç»“

| æ–¹æ³• | æè¿° |
|------|------|
| âœ… å®Œå–„æ¨¡æ‹Ÿäº‹ä»¶å¯¹è±¡ | ç¡®ä¿ `event.dataTransfer.types` æ˜¯æ•°ç»„ |
| ğŸ§ª Mock `isEvtWithFiles` | ä¸´æ—¶ç»•è¿‡é”™è¯¯ï¼ˆä¸æ¨èé•¿æœŸä½¿ç”¨ï¼‰ |
| ğŸ”¼ å‡çº§ `react-dropzone` | ä¿®å¤æ½œåœ¨ bug |
| ğŸ§¹ æ¸…ç†æµ‹è¯•å‰¯ä½œç”¨ | ä½¿ç”¨ `cleanup()` |
| ğŸ§‘â€ğŸ’» ä½¿ç”¨ `userEvent` | æ›´å®‰å…¨åœ°æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸º |

---

å¦‚éœ€è¿›ä¸€æ­¥å¸®åŠ©ï¼Œä½ å¯ä»¥è´´å‡ºä½ æµ‹è¯•ä»£ç ä¸­æ¨¡æ‹Ÿäº‹ä»¶çš„éƒ¨åˆ†ï¼Œæˆ‘å¯ä»¥å¸®ä½ å…·ä½“ä¿®æ”¹ã€‚